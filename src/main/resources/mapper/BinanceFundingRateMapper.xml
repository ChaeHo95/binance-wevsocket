<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.binancewebsocket.mapper.BinanceFundingRateMapper">

    <!-- ✅ Funding Rate 데이터 저장 -->
    <insert id="insertFundingRate" parameterType="com.example.binancewebsocket.dto.BinanceFundingRateDTO">
        INSERT INTO binance_funding_rate (symbol, funding_rate, funding_time, mark_price, created_at)
        VALUES (#{symbol}, #{fundingRate}, #{fundingTime}, #{markPrice}, NOW()) ON DUPLICATE KEY
        UPDATE
            funding_rate =
        VALUES (funding_rate), mark_price =
        VALUES (mark_price), created_at = NOW();
    </insert>


</mapper>
